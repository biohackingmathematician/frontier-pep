# TDA Configuration
# Peptide Atlas - Topological Data Analysis Parameters

# DISCLAIMER: This analysis is for research purposes only.
# No therapeutic recommendations are made by this analysis.

mapper:
  # Filter function configuration
  filter_functions:
    primary: "umap"
    secondary: "evidence_tier"
    
  # UMAP parameters for Mapper lens
  umap:
    n_neighbors: 15
    min_dist: 0.1
    n_components: 2
    metric: "cosine"
    random_state: 42
  
  # Cover parameters
  cover:
    n_cubes: 15
    overlap_perc: 0.5
    
  # Clustering algorithm
  clustering:
    algorithm: "hdbscan"
    min_cluster_size: 3
    min_samples: 2
    metric: "euclidean"
  
  # Graph construction
  graph:
    min_intersection: 1
    
persistence:
  # Rips complex parameters
  rips:
    max_edge_length: 2.0
    max_dimension: 2
    
  # Filtration
  filtration:
    type: "rips"
    
  # Persistence thresholds
  thresholds:
    min_persistence: 0.1
    significance_level: 0.05
    
  # Output
  diagram:
    plot: true
    save_path: "outputs/persistence_diagram.png"
    
analysis:
  # Cluster analysis
  cluster_analysis:
    enabled: true
    min_cluster_size: 2
    
  # Pathway enrichment
  enrichment:
    enabled: true
    methods:
      - "hypergeometric"
    
  # Bridge detection
  bridge_detection:
    enabled: true
    min_edge_weight: 0.3
    
  # Hierarchical structure
  hierarchy:
    enabled: true
    method: "dendrogram"
    
output:
  # Output directory
  output_dir: "outputs/tda"
  
  # File formats
  formats:
    - "json"
    - "html"
    
  # Include in output
  include:
    - "mapper_graph"
    - "persistence_diagram"
    - "cluster_summary"
    - "bridge_analysis"

